<!-- <iframe width="100%" height="500px" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/search?q=bars&key=AIzaSyDdZLvJpNUODunYI4Imfm4elrUI7y66dqc"></iframe> -->

<script>
// Moved all the below to the map controller $scope.init function which is called below right before the map canvas!  Temporarily leaving this in case we need to revert back but should delete later on!

      // function initialize() {
      //   var mapOptions = {
      //     center: new google.maps.LatLng(34.0219, -118.4814),
      //     zoom: 13
      //   };
      //   var map = new google.maps.Map(document.getElementById('map-canvas'),
      //     mapOptions);

      //   var input = /** @type {HTMLInputElement} */(
      //       document.getElementById('pac-input'));

      //   var types = document.getElementById('type-selector');
      //   map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
      //   map.controls[google.maps.ControlPosition.TOP_LEFT].push(types);

      //   var autocomplete = new google.maps.places.Autocomplete(input);
      //   autocomplete.bindTo('bounds', map);

      //   var infowindow = new google.maps.InfoWindow({
      //     happyhour:"<strong>Cheers! HAPPY HOUR: 1pm-5pm</strong>"
      //   });

      //   var marker = new google.maps.Marker({
      //     map: map,
      //     anchorPoint: new google.maps.Point(0, -29),
      //     animation:google.maps.Animation.BOUNCE,
      //     position: { lat: 34.0247122, lng: -118.4601068 }
      //     // THIS IS WHERE WE CAN CHANGE THE MARKERS!!!!!
      //     // icon:'pinkball.png'
      //   });


      //   // google.maps.event.addListener(autocomplete, 'place_changed', function() {
      //   //   infowindow.close();
      //   //   marker.setVisible(false);
      //   //   var place = autocomplete.getPlace();
      //   //   if (!place.geometry) {
      //   //     return;
      //   //   }

      //   //   // If the place has a geometry, then present it on a map.
      //   //   if (place.geometry.viewport) {
      //   //     map.fitBounds(place.geometry.viewport);
      //   //   } else {
      //   //     map.setCenter(place.geometry.location);
      //   //     map.setZoom(17);  // Why 17? Because it looks good.
      //   //   }
      //   //   marker.setIcon(/** @type {google.maps.Icon} */({
      //   //     url: place.icon,
      //   //     size: new google.maps.Size(71, 71),
      //   //     origin: new google.maps.Point(0, 0),
      //   //     anchor: new google.maps.Point(17, 34),
      //   //     scaledSize: new google.maps.Size(35, 35)
      //   //   }));

      //   //   // display infowindow when marker is clicked
      //   //   google.maps.event.addListener(marker, 'click', function() {
      //   //     infowindow.open(map,marker);
      //   //   });

      //   //   marker.setPosition(place.geometry.location);
      //   //   marker.setVisible(true);

      //   //   var address = '';
      //   //   if (place.address_components) {
      //   //     address = [
      //   //       (place.address_components[0] && place.address_components[0].short_name || ''),
      //   //       (place.address_components[1] && place.address_components[1].short_name || ''),
      //   //       (place.address_components[2] && place.address_components[2].short_name || '')
      //   //     ].join(' ');
      //   //   }

      //   //   infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address + '</strong><br>' + infowindow.happyhour );
      //   //   infowindow.open(map, marker);
      //   // });

      //   // Sets a listener on a radio button to change the filter type on Places
      //   // Autocomplete.
      //   // function setupClickListener(id, types) {
      //   //   var radioButton = document.getElementById(id);
      //   //   google.maps.event.addDomListener(radioButton, 'click', function() {
      //   //     autocomplete.setTypes(types);
      //   //   });
      //   // }

      //   // setupClickListener('changetype-all', []);
      //   // setupClickListener('changetype-address', ['address']);
      //   // setupClickListener('changetype-establishment', ['establishment']);
      //   // setupClickListener('changetype-geocode', ['geocode']);
      // }

      // // google.maps.event.addDomListener(window, 'load', initialize);

      // // Asynchronously Loading to help with heroku
      // // http://www.w3schools.com/googleAPI/google_maps_basic.asp
      // // function loadScript()
      // //   {
      // //     var script = document.createElement("script");
      // //     script.src = "https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places"; document.body.appendChild(script);
      // //   }

      // // window.onload = loadScript;

      // initialize();

</script>

    <body>
<!-- this is what initializes the map from the map controller -->
    <div ng-init="init()"></div>
<!-- map displays here -->
    <div id="map-canvas"></div>
<!-- when button is clicked, function makes geocode call to google api in map controller and stores the location data in the DB which 
then populates on the map canvas -->
    <button ng-click="geocodeAddresses()">Show me Happy Hours!</button>

  </body>
